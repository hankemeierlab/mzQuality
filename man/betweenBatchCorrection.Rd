% Generated by roxygen2: do not edit by hand
% Please edit documentation in R/BatchEffects.R
\name{betweenBatchCorrection}
\alias{betweenBatchCorrection}
\title{Between-Batch Correction for Metabolomics Data}
\usage{
betweenBatchCorrection(ratio, qcAliquots, qcBatches, aliquots, batches)
}
\arguments{
\item{ratio}{Matrix of ratio values with compounds as rows and samples as
columns}

\item{qcAliquots}{Character vector of column names identifying QC samples}

\item{qcBatches}{Vector of batch identifiers for the QC samples}

\item{aliquots}{Character vector of all sample identifiers (column names)}

\item{batches}{Vector of batch identifiers for all samples}
}
\value{
A matrix of the same dimensions as the input `ratio`, containing
  the batch-corrected values
}
\description{
Normalizes ratio data across multiple batches using QC samples
  as reference points.
}
\details{
This function calculates batch-specific correction factors based on
  QC sample measurements. For each batch, it computes the median ratio of QC
  samples within the batch and divides the global QC median by this
  batch-specific median to obtain a correction factor. The correction factor
  is then applied to all samples within that batch to normalize their values
  relative to other batches.

  If a batch contains no QC samples, a correction factor of 1 is used
  (no correction).
}
\keyword{internal}
